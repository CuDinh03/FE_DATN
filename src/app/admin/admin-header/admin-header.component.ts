import { Component } from '@angular/core';
import {AuthenticationService} from "../../service/AuthenticationService";
import {Router} from "@angular/router";

@Component({
  selector: 'app-admin-header',
  templateUrl: './admin-header.component.html',
  styleUrls: ['./admin-header.component.css']
})
export class AdminHeaderComponent {
  constructor(private auth: AuthenticationService,
              private router : Router) {
  }
  logout() {
    // Gọi phương thức logout từ AuthenticationService
    this.auth.logout();
    localStorage.removeItem('voucher');
    // Redirect đến trang đăng nhập sau khi đăng xuất
    this.router.navigate(['/log-in']).then(() => {
      console.log('Redirected to /login');
      this.router.navigate(['/log-in']).then(() => {
        console.log('Redirected to /log-in');
      }).catch(err => {
        console.error('Error navigating to /log-in:', err);
      });
    }).catch(err => {
      console.error('Error navigating to /login:', err);
    });
  }

}
